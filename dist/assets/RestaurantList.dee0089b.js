import{_ as $,o as s,c as o,a as e,u as P,r as _,w as L,b as M,d as v,e as B,F as w,f as b,g as F,v as D,t as y,h,i as I,j as x,T as j,k as T,p as E,l as N,m as A,n as C,A as S,q as G,s as H,x as z}from"./index.9d12ff9c.js";const U={},Z={id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 171 161"},K=e("g",null,[e("circle",{cx:"85.5",cy:"80.5",r:"53",fill:"inherit",style:{isolation:"isolate"}}),e("g",null,[e("rect",{x:"44.47",y:"74.87",width:"82.06",height:"11.26",rx:"3.87",transform:"translate(81.96 -36.88) rotate(45)",fill:"#fff"}),e("rect",{x:"44.47",y:"74.87",width:"82.06",height:"11.26",rx:"3.87",transform:"translate(202.88 76.96) rotate(135)",fill:"#fff"})])],-1),Y=[K];function q(c,a){return s(),o("svg",Z,Y)}var J=$(U,[["render",q]]);const R=c=>(E("data-v-7ffdc4da"),c=c(),N(),c),O={key:0,class:"fixed left-0 top-0 z-20 h-full w-full flex justify-end"},Q={class:"h-full w-[25rem] max-w-[90%] z-10 bg-white flex flex-col p-8 rounded-l-2xl"},W={class:"flex flex-row justify-end"},X={class:"flex flex-col grow"},ee={class:"flex flex-wrap gap-2"},te=R(()=>e("legend",{class:"text-2xl text-gray-500 font-semibold mb-2"},"Kategorier",-1)),ae=["id","value"],re=["for"],se={class:"flex flex-wrap gap-2 mt-8"},oe=R(()=>e("legend",{class:"text-2xl text-gray-500 font-semibold mb-2"},"Sort\xE9r efter",-1)),le=["id","value"],ne=["for"],ie={props:["showFilter"],emits:["closeFilter"],setup(c,{emit:a}){const u=c,l=P(),n=_([]),d=_("Mest popul\xE6re");L(u,()=>{u.showFilter===!0&&(n.value=l.activeFilters,d.value=l.activeSorting)});function g(i){i.preventDefault(),l.$reset(),l.updateFilters(n.value,d.value),a("closeFilter")}function k(i){i.preventDefault(),n.value=[],d.value="Mest popul\xE6re",l.$reset()}return(i,t)=>{const f=J;return s(),M(T,{to:"body"},[v(j,{name:"slide",duration:300},{default:B(()=>[c.showFilter?(s(),o("div",O,[e("div",{onClick:t[0]||(t[0]=r=>a("closeFilter")),class:"absolute left-0 top-0 h-full w-full bg-black opacity-40"}),e("aside",Q,[e("div",W,[v(f,{onClick:t[1]||(t[1]=r=>a("closeFilter")),class:"h-10 w-auto fill-emerald-500 cursor-pointer transform duration-200 hover:scale-110"})]),e("form",X,[e("fieldset",ee,[te,(s(!0),o(w,null,b(h(l).filters,r=>(s(),o("div",{key:r,class:"capitalize transform duration-200 active:scale-90"},[F(e("input",{type:"checkbox",id:r,value:r,"onUpdate:modelValue":t[2]||(t[2]=m=>n.value=m),class:"peer appearance-none"},null,8,ae),[[D,n.value]]),e("label",{for:r,class:"inline-block bg-white text-emerald-500 px-3 py-1 border border-emerald-500 rounded-full cursor-pointer duration-200 peer-checked:bg-emerald-500 peer-checked:text-white hover:bg-emerald-50"},y(r),9,re)]))),128))]),e("fieldset",se,[oe,(s(!0),o(w,null,b(h(l).sorting,r=>(s(),o("div",{key:r,class:"transform duration-200 active:scale-90"},[F(e("input",{type:"radio",id:r,value:r,"onUpdate:modelValue":t[3]||(t[3]=m=>d.value=m),class:"peer appearance-none"},null,8,le),[[I,d.value]]),e("label",{for:r,class:"inline-block bg-white text-emerald-500 px-3 py-1 border border-emerald-500 rounded-full cursor-pointer duration-200 peer-checked:bg-emerald-500 peer-checked:text-white hover:bg-emerald-50"},y(r),9,ne)]))),128))]),e("button",{onClick:k,class:"w-full bg-emerald-200 text-emerald-900 font-semibold rounded mt-8 py-4 transform duration-200 hover:bg-emerald-100 active:scale-95"},"Fjern filtre"),e("button",{onClick:g,class:"w-full bg-emerald-500 text-white font-semibold rounded mt-4 py-4 transform duration-200 hover:bg-emerald-600 active:scale-95"},"Anvend filtre")])])])):x("",!0)]),_:1})])}}};var ce=$(ie,[["__scopeId","data-v-7ffdc4da"]]);const de={},ue={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},fe=A('<g id="Group_504" data-name="Group 504" transform="translate(-169 -7)"><g id="Group_211" data-name="Group 211" transform="translate(169 7)"><circle id="Ellipse_139" data-name="Ellipse 139" cx="9" cy="9" r="9" fill="#10b981"></circle><g id="Icon_ionic-ios-options" data-name="Icon ionic-ios-options" transform="translate(4.33 5.002)"><path id="Path_41" data-name="Path 41" d="M9.017,25.289a.9.9,0,0,1,1.648,0h1.69a.36.36,0,0,1,.359.359h0a.36.36,0,0,1-.359.359h-1.69a.9.9,0,0,1-1.648,0H3.734a.36.36,0,0,1-.359-.359h0a.36.36,0,0,1,.359-.359Z" transform="translate(-3.375 -18.644)" fill="#fff"></path><path id="Path_42" data-name="Path 42" d="M5.425,15.726a.9.9,0,0,1,1.648,0h5.282a.36.36,0,0,1,.359.359h0a.36.36,0,0,1-.359.359H7.072a.9.9,0,0,1-1.648,0H3.734a.36.36,0,0,1-.359-.359h0a.36.36,0,0,1,.359-.359Z" transform="translate(-3.375 -12.134)" fill="#fff"></path><path id="Path_43" data-name="Path 43" d="M9.017,6.164a.9.9,0,0,1,1.648,0h1.69a.36.36,0,0,1,.359.359h0a.36.36,0,0,1-.359.359h-1.69a.9.9,0,0,1-1.648,0H3.734a.36.36,0,0,1-.359-.359h0a.36.36,0,0,1,.359-.359Z" transform="translate(-3.375 -5.625)" fill="#fff"></path></g></g></g>',1),pe=[fe];function _e(c,a){return s(),o("svg",ue,pe)}var he=$(de,[["render",_e]]);const me={class:"max-w-7xl mx-auto pt-24 pb-8 px-4"},ve={class:"flex flex-row justify-between"},ge=e("h2",{class:"text-3xl text-gray-800 font-semibold"},"Restauranter",-1),xe={class:"text-md text-gray-500 pl-2 leading-none"},we=G("Viser: "),be={class:"font-semibold text-gray-800"},ye={key:0,class:"mt-2"},ke={key:1,class:"grid gap-6 pt-4 md:grid-cols-2 lg:grid-cols-3"},$e={key:2,class:"grid gap-6 pt-4 md:grid-cols-2 lg:grid-cols-3"},Ce={setup(c){const a=P();C(()=>{if(a.activeSorting==="Mest popul\xE6re")return"rating";if(a.activeSorting==="Pris")return"priceRange";if(a.activeSorting==="Leveringspris")return"deliveryCost";if(a.activeSorting==="Leveringstid")return"deliveryTime";if(a.activeSorting==="Minimumspris")return"minimumPrice"});const u=_(!1),l=_(!0),n=_(!1),d=_([]),g=C(()=>{const i=d.value.filter(t=>{if(t.tags.some(f=>a.activeFilters.includes(f))||a.activeFilters.length===0&&t.name.toLowerCase().includes(a.activeSearch.toLowerCase()))return t});return i.sort((t,f)=>(t[a.sortingValue]-f[a.sortingValue])*a.sortingDirection),i});S.configure({endpointUrl:"https://api.airtable.com",apiKey:"keyiA3gmotxYIJjLc"});var k=S.base("appRiP6vD6l7EmCYB");return k("restaurants").select({}).eachPage(i=>{i.forEach(t=>d.value.push(t.fields)),n.value=!0,setTimeout(()=>{l.value=!1},1750)}),(i,t)=>{const f=he,r=H,m=z,V=ce;return s(),o("main",me,[e("div",ve,[ge,e("div",{onClick:t[0]||(t[0]=p=>u.value=!u.value),class:"hidden sm:flex p-1 gap-3 items-center rounded-full cursor-pointer group"},[e("p",xe,[we,e("span",be,y(h(a).activeSorting),1)]),v(f,{class:"w-8 h-auto transform group-hover:scale-110 duration-200"})])]),n.value&&h(g).length===0?(s(),o("div",ye,[e("p",null,"Der kunne ikke findes nogen restauranter for '"+y(h(a).activeSearch)+"'.",1)])):x("",!0),n.value?(s(),o("div",ke,[(s(!0),o(w,null,b(h(g),p=>(s(),M(r,{key:p.slug,restaurant:p,showRestaurantCardPlaceholder:l.value},null,8,["restaurant","showRestaurantCardPlaceholder"]))),128))])):x("",!0),n.value?x("",!0):(s(),o("div",$e,[(s(),o(w,null,b(8,p=>e("div",{key:p,class:"relative h-[15.0625rem] sm:h-[13.5625rem]"},[v(m)])),64))])),v(V,{showFilter:u.value,onCloseFilter:t[1]||(t[1]=p=>u.value=!1)},null,8,["showFilter"])])}}};export{Ce as default};
